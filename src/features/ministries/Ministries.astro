---
import SectionTitle from "../../shared/components/SectionTitle.astro";
import { loadMinistriesFromCSV } from "../../lib/loadMinistries";

const ministries = await loadMinistriesFromCSV();
---

<section id="ministerios" class="py-20 bg-faith-blue/5">
  <div class="container mx-auto px-4">
    <SectionTitle
      title="Nuestros Ministerios"
      subtitle="Descubre las diferentes áreas en las que puedes servir y crecer con nosotros."
    />

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {
        ministries.map((ministry) => (
          <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
            <div class="bg-sky-blue/10 p-4 rounded-full w-16 h-16 flex items-center justify-center mb-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-8 h-8 text-sky-blue"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d={ministry.icon}
                />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-faith-blue mb-2">
              {ministry.name}
            </h3>
            <p class="text-soft-gray mb-4 flex-grow">{ministry.description}</p>
            <a
              href="#contacto"
              class="text-sky-blue hover:text-faith-blue font-medium inline-flex items-center transition-colors"
            >
              Más información
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-4 h-4 ml-1"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"
                />
              </svg>
            </a>
          </div>
        ))
      }
    </div>
  </div>
</section>
