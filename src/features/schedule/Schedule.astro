---
import SectionTitle from "../../shared/components/SectionTitle.astro";
import { loadActivitiesFromCSV } from "../../lib/loadActivities";

const activities = await loadActivitiesFromCSV();
---

<section id="horarios" class="py-20 bg-white-light">
  <div class="container mx-auto px-4">
    <SectionTitle
      title="Horarios y Actividades"
      subtitle="Te invitamos a ser parte de nuestras reuniones semanales."
    />

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        activities.map((daySchedule) => (
          <div
            class="relative bg-white rounded-2xl shadow-xl overflow-hidden
                    hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 group
                    flex flex-col"
          >
            <div class="bg-faith-blue text-white py-4 px-6 rounded-t-2xl">
              <h3 class="text-2xl font-bold">{daySchedule.day}</h3>
            </div>
            <ul class="divide-y divide-gray-200 flex-grow">
              {daySchedule.items.map((activity) => (
                <li class="p-6 transition-colors duration-200 even:bg-gray-50">
                  <div class="flex justify-between items-start mb-2">
                    <span class="font-semibold text-faith-blue text-lg">
                      {activity.name}
                    </span>
                    <span class="bg-sky-blue/10 text-sky-blue font-medium rounded-full px-3 py-1 text-sm flex-shrink-0 ml-4">
                      {activity.time}
                    </span>
                  </div>
                  <p class="text-gray-700 text-base leading-relaxed">
                    {activity.description}
                  </p>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>
    <div class="mt-12 bg-beige-warm rounded-2xl p-6 text-gray-800">
      <h4 class="text-faith-blue text-xl font-bold mb-4">Notas importantes</h4>
      <ul class="list-disc pl-6 space-y-2 text-base leading-relaxed">
        <li>
          <strong>Encuentro femenino:</strong> se realiza el 1° y 3° miércoles de
          cada mes a las 15:30 hs.
        </li>
        <li>
          <strong>Jóvenes:</strong> se reúnen cada 15 días. Consultá en <a
            href="https://www.instagram.com/jvns_icep"
            target="_blank"
            class="text-sky-blue underline">@jvns_icep</a
          > para saber la próxima fecha.
        </li>
        <li>
          <strong>E.L.C.O.P.:</strong> significa <em
            >Esperanza y Libertad en COnsumo Problemático</em
          >. Es un espacio de contención para personas y familiares que estén
          transitando situaciones de consumo. Sentite libre de venir solo o
          acompañado.
        </li>
      </ul>
    </div>
  </div>
</section>
